{% extends 'layout.html' %}
{% block title %}Submit Problem Set{% endblock %}
{% block layout-content %}

<p><a href="{% url "portal" student.id %}">
	⬅️ Back to portal</a></p>

{% include "generic-form.html" %}

{% endblock %}

{% block css %}
<style type="text/css">
#solution_render, #statement_render {
	color: blue;
	font-family: sans-serif;
}
</style>
{% endblock %}
{% block scripts %}
<script type="text/javascript">
$(document).ready(function() {
	var render_enabled = true;
	$("#render-enable").click(function (e) {
		e.preventDefault();
		render_enabled = true;
		$("#render-enable").removeClass('disabled');
		$("#render-disable").addClass('disabled');
		render_statement();
		render_solution();
	});
	$("#render-disable").click(function (e) {
		e.preventDefault();
		render_enabled = false;
		$("#render-enable").addClass('disabled');
		$("#render-disable").removeClass('disabled');
		$("#statement_render").html('');
		$("#solution_render").html('');
	});

	function render_statement() {
		if (!render_enabled) return;
		MathJax.Hub.Queue(
			function () {$("#statement_render").text($("#id_statement").val());},
			["Typeset", MathJax.Hub, 'statement_render'],
		);
	}
	function render_solution() {
		if (!render_enabled) return;
		MathJax.Hub.Queue(
			function () {$("#solution_render").text($("#id_solution").val());},
			["Typeset", MathJax.Hub, 'solution_render'],
		);
	}
	$("#id_statement").blur(render_statement);
	$("#id_solution").blur(render_solution);
	render_statement();
	render_solution();
});
</script>
{% endblock %}
