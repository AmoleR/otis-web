{% extends 'layout.html' %}
{% block css %}
<style type="text/css">
td.unit-select select {
	width: 80px;
	background: none;
	border: none;
}
</style>
{% endblock %}
{% block layout-content %}

<p><a href="{% url "dashboard" student.id %}">Back to Dashboard</a></p>
<form action="{{ request.path }}" method="post">
{% csrf_token %}

{% if form.non_field_errors %}
<ul class="form_error_messages">
	{% for err in form.non_field_errors %}
	<li class="form_error_message">{{ err }}</li>
	{% endfor %}
</ul>
{% endif %}

<table class="table form-table">
{% for hidden in form.hidden_fields %}
	{{ hidden }}
{% endfor %}

{% if request.user.is_staff %}
<tr>
	<td><input type="submit" name="submit" value="Update"></td>
</tr>
{% endif %}

{% for field in form.visible_fields %}
	<tr class="subject{{ field.subject }}">
		<td class="unit-select">
			{{ field }}
			{% if field.errors %}
				<ul class="errorlist">
				{% for err in field.errors %}
					{{ err }}
				{% endfor %}
				</ul>
			{% endif %}
		</td>
		<th>{{ field.label }}</th>
		<td>{{ field.help_text }}</td>
	</tr>
{% endfor %}

{% if request.user.is_staff %}
<tr>
	<td><input type="submit" name="submit" value="Update"></td>
</tr>
{% endif %}

</table>

</form>

{% endblock %}
